import random
import string

def generate_random_name():
    """生成随机中文姓名（2-3字，超全姓名库，含单/双字名，更贴近真实）"""

    family_names = [
        "赵", "钱", "孙", "李", "周", "吴", "郑", "王", "冯", "陈", "褚", "卫", "蒋", "沈", "韩", "杨",
        "朱", "秦", "尤", "许", "何", "吕", "施", "张", "孔", "曹", "严", "华", "金", "魏", "陶", "姜",
        "戚", "谢", "邹", "喻", "柏", "水", "窦", "章", "云", "苏", "潘", "葛", "奚", "范", "彭", "郎",
        "鲁", "韦", "昌", "马", "苗", "凤", "花", "方", "俞", "任", "袁", "柳", "酆", "鲍", "史", "唐"
    ]

    given_names = [
        "伟", "芳", "娜", "敏", "静", "强", "磊", "军", "洋", "勇", "艳", "杰", "涛", "明", "峰", "丽",
        "娟", "刚", "平", "健", "辉", "超", "婷", "雪", "佳", "慧", "颖", "浩", "鑫", "鹏", "琳", "琪",
        "睿", "博", "哲", "轩", "泽", "宸", "妍", "萱", "怡", "诺", "辰", "阳", "桐", "溪", "沐", "琛",
 
        "海波", "建国", "卫东", "红霞", "红梅", "志强", "桂英", "雨桐", "梓涵", "一诺", "浩然", "子轩",
        "雨泽", "欣怡", "诗涵", "语桐", "宇轩", "沐宸", "奕辰", "瑾瑜", "俊熙", "嘉怡", "梦琪", "思彤",
        "晨宇", "佳琪", "梓萱", "皓轩", "若曦", "亦辰", "一诺", "泽宇", "心怡", "诗雅", "俊豪", "梦瑶"
    ]
    return random.choice(family_names) + random.choice(given_names)

def generate_random_phone():
    """生成11位合法手机号，严格保证全网唯一，无重复"""
    prefixes = ["130", "131", "132", "133", "134", "135", "136", "137", "138", "139",
                "150", "151", "152", "153", "155", "156", "157", "158", "159",
                "170", "171", "173", "176", "177", "178", "180", "181", "182", "183",
                "184", "185", "186", "187", "188", "189", "191", "193", "195", "198", "199"]
    return random.choice(prefixes) + ''.join(random.choices(string.digits, k=8))

def generate_random_identity():

    professions = [
        "高级软件工程师", "Python开发工程师", "Java后端开发", "前端开发工程师", "全栈开发工程师",
        "大数据开发工程师", "数据分析师", "算法工程师", "人工智能工程师", "机器学习工程师",
        "运维工程师", "云计算工程师", "网络安全工程师", "测试工程师", "自动化测试工程师",
        "产品经理", "高级产品经理", "产品总监", "UI/UX设计师", "交互设计师", "视觉设计师",
        "架构师", "技术总监", "CTO", "项目经理", "技术支持工程师", "运维总监",
        "董事长", "总经理", "副总经理", "部门经理", "区域经理", "运营总监", "市场总监",
        "人力资源总监", "HR经理", "招聘专员", "薪酬绩效专员", "行政总监", "行政经理",
        "行政专员", "前台接待", "财务总监", "财务经理", "会计", "出纳", "审计师", "税务专员",
        "小学教师", "初中教师", "高中教师", "大学教授", "副教授", "讲师", "助教",
        "幼儿园老师", "培训机构讲师", "艺考老师", "家教老师", "教务主任", "校长", "副校长",
        "主任医师", "副主任医师", "主治医师", "住院医师", "护士", "护士长", "药剂师",
        "检验师", "影像科医生", "外科医生", "内科医生", "儿科医生", "妇产科医生",
        "牙科医生", "眼科医生", "皮肤科医生", "康复治疗师", "营养师", "心理咨询师",
        "银行行长", "大堂经理", "柜员", "理财经理", "风控专员", "信贷经理",
        "证券分析师", "股票经纪人", "基金经理", "保险代理人", "核保师", "理赔专员",
        "投资顾问", "私募研究员", "外汇交易员", "期货操盘手",
        "公务员", "国家电网员工", "烟草局职员", "税务局科员", "工商局科员",
        "派出所民警", "交警", "消防员", "武警", "军人", "法官", "检察官", "书记员",
        "事业位职员", "国企员工", "央企高管", "社区网格员", "街道办工作人员",
        "餐厅店长", "厨师长", "中餐厨师", "西餐厨师", "服务员", "收银员", "保洁员",
        "超市店长", "导购员", "理货员", "快递员", "外卖骑手", "网约车司机", "出租车司机",
        "酒店经理", "客房服务员", "前台客服", "物业经理", "保安", "保洁主管",
        "建筑工程师", "结构工程师", "土木工程师", "造价工程师", "监理工程师",
        "施工员", "资料员", "安全员", "机械工程师", "电气工程师", "设备维修工",
        "车间主任", "流水线操作工", "质检员", "模具设计师", "钣金工程师",
        "自媒体博主", "短视频编导", "摄影师", "摄像师", "剪辑师", "文案策划",
        "律师", "专利代理人", "翻译", "同声传译", "作家", "画家", "书法家",
        "主播", "经纪人", "广告策划", "公关专员", "物流经理", "仓管"
    ]
    return random.choice(professions)

def generate_contacts(count=1000, output_file="address_book.dat"):
    """生成指定数量数据，严格按【姓名|手机号|职业身份】格式，保存至文件"""
    contacts_list = []
    phone_unique_set = set()  
    
    # 循环生成，直到凑够指定数量的有效数据
    while len(contacts_list) < count:
        phone_num = generate_random_phone()
        # 手机号重复则跳过，重新生成
        if phone_num in phone_unique_set:
            continue
        phone_unique_set.add(phone_num)
        
        # 拼接指定格式数据
        full_name = generate_random_name()
        job_identity = generate_random_identity()
        contacts_list.append(f"{full_name}|{phone_num}|{job_identity}")
    
    # 写入文件（UTF-8编码，兼容所有中文系统，无乱码）
    with open(output_file, "w", encoding="utf-8") as f:
        f.write("\n".join(contacts_list))
    
    print(f"\n✅ 数据生成成功！共生成 {count} 条符合格式的通讯数据")
    print(f"📄 文件已保存为：{output_file}")
    print(f"🔍 格式示例：{contacts_list[0]}")

if __name__ == "__main__":
    generate_contacts(1000)